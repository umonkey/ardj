<html><head><meta http-equiv="Content-Type" content="text/html; charset="><title>Настройка синтезатора речи</title><link rel="stylesheet" type="text/css" href="screen.css"><meta name="generator" content="DocBook XSL Stylesheets V1.76.1"><link rel="home" href="index.html" title="ardj"><link rel="up" href="settings.html" title="Глава 3. Настройка"><link rel="prev" href="settings.html" title="Глава 3. Настройка"><link rel="next" href="last-fm.html" title="Взаимодействие с Last.fm"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">Настройка синтезатора речи</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="settings.html">Пред.</a> </td><th width="60%" align="center">Глава 3. Настройка</th><td width="20%" align="right"> <a accesskey="n" href="last-fm.html">След.</a></td></tr></table><hr></div><div class="section" title="Настройка синтезатора речи"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="festival"></a>Настройка синтезатора речи</h2></div></div></div><p>Синтез речи может использоваться в скриптах для анонсирования каких-то событий, и может быть доступен
  пользователям через джаббер-бота в развлекательных целях.  Работает это так: вы загружаете в <a class="link" href="architecture.html#media-db" title="Медиатека">медиатеку</a> файл формата OGG/Vorbis (с расширением <code class="filename">.ogg</code>), затем ardj
  преобразует текст в речь, записывает в этот файл и ставит его в <a class="link" href="queue.html" title="Управление очередью (заказы)">очередь
  проигрывания</a>.</p><p>Единственным свободным синтезатором речи, прилично говорящим по-русски, является <a class="ulink" href="http://www.cstr.ed.ac.uk/projects/festival/" target="_top">festival</a>.  Установить его в системе Debian (Ubuntu) можно
  такой командой:</p><pre class="programlisting">sudo apt-get install festival festvox-ru</pre><p>После этого <a class="link" href="usage.html#adding-music" title="Добавление музыки">загрузите</a> в медиатеку любой файл формата OGG/Vorbis и определите
  его идентификатор — это делается командой <a class="link" href="jabber-commands.html#jabber-news"><span class="command"><strong>news</strong></span></a> или <a class="link" href="jabber-commands.html#jabber-find"><span class="command"><strong>find</strong></span></a>:</p><pre class="programlisting">&gt; find экстренное
Found only these tracks:
«Экстренное сообщение» by Микроша — #4656 ⚖1.96 ♺323 @special</pre><p>Укажите найденный идентификатор ("4656" в примере) в конфигурационном файле (обычно
  <code class="filename">/etc/ardj.yaml</code>):</p><pre class="programlisting">festival_track_id: 4656</pre><p>После этого перезапустите jabber-бота командой <a class="link" href="jabber-commands.html#jabber-restart"><span class="command"><strong>restart</strong></span></a>, чтобы изменения вступили в силу.</p><p>Теперь можно отправить джаббер-боту команду <a class="link" href="jabber-commands.html#jabber-speak"><span class="command"><strong>speak</strong></span></a> с
  текстом, который ему следует произнести.  Результат будет записан в файл, соответствующий указанной дорожке.  Выглядит
  это так:</p><pre class="programlisting">&gt; speak привет, меня зовут микроша. гамбургеры заворачивать теперь буду я
OK, please wait until the current song finishes playing.</pre><p>Запрошенная фраза прозвучит по окончании проигрываемой композиции.  Убедиться, что она встала в очередь, можно
  командой <a class="link" href="jabber-commands.html#jabber-queue"><span class="command"><strong>queue</strong></span></a>:</p><pre class="programlisting">&gt; queue
Current queue:                                               
«Экстренное сообщение» by Микроша — #4656 ⚖2.21 ♺325 @special</pre></div><div class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="settings.html">Пред.</a> </td><td width="20%" align="center"><a accesskey="u" href="settings.html">Наверх</a></td><td width="40%" align="right"> <a accesskey="n" href="last-fm.html">След.</a></td></tr><tr><td width="40%" align="left" valign="top">Глава 3. Настройка </td><td width="20%" align="center"><a accesskey="h" href="index.html">Начало</a></td><td width="40%" align="right" valign="top"> Взаимодействие с Last.fm</td></tr></table></div></body></html>
