<html><head><meta http-equiv="Content-Type" content="text/html; charset="><title>Приложение B. Описание команд jabber-бота</title><link rel="stylesheet" type="text/css" href="screen.css"><meta name="generator" content="DocBook XSL Stylesheets V1.76.1"><link rel="home" href="index.html" title="ardj"><link rel="up" href="index.html" title="ardj"><link rel="prev" href="command-line.html" title="Приложение A. Описание параметров командной строки"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">Приложение B. Описание команд jabber-бота</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="command-line.html">Пред.</a> </td><th width="60%" align="center"> </th><td width="20%" align="right"> </td></tr></table><hr></div><div class="appendix" title="Приложение B. Описание команд jabber-бота"><div class="titlepage"><div><div><h2 class="title"><a name="jabber-commands"></a>Приложение B. Описание команд jabber-бота</h2></div></div></div><div class="variablelist"><dl><dt><a name="jabber-admins"></a><span class="term"><span class="command"><strong>admins</strong></span></span></dt><dd><p>Выводит список администраторов.  Учитываются администраторы, указанные в конфигурационном файле, и
          пользователи, наиболее активно голосовавшие (если эта функция включена).</p></dd><dt><a name="jabber-download"></a><span class="term"><span class="command"><strong>download</strong></span> <em class="replaceable"><code>имя исполнителя</code></em></span></dt><dd><p>Ищет свободно распространяемые композиции указанного исполнителя в Last.fm и Jamendo и загружает 3 штуки.
    Если в медиатеке уже есть композиции указанного исполнителя — сообщает об этом и ничего не загружает.</p><div class="example"><a name="jabber-download-example"></a><p class="title"><b>Пример B.1. Загрузка музыки из открытых источников</b></p><div class="example-contents"><pre class="programlisting">&gt; download cool music
Это займёт какое-то время, я сообщу о результате.
Could not find anything by "cool music" on Last.fm and Jamendo.</pre></div></div><br class="example-break"></dd><dt><a name="jabber-find"></a><span class="term"><span class="command"><strong>find</strong></span> <em class="replaceable"><code>поисковый_запрос</code></em></span></dt><dd><p>Выводит список композиций, содержащих указанную строку.</p></dd><dt><a name="jabber-news"></a><span class="term"><span class="command"><strong>news</strong></span></span></dt><dd><p>Выводит список последних 10 загруженных композиций, например:</p><pre class="programlisting">Recently added tracks:                               
«Песня идущего домой» by Ю-Питер — #6899 ⚖1.00 ♺0    
«Девушка по городу» by Ю-Питер — #6898 ⚖1.00 ♺0      
«Эта музыка будет вечной» by Ю-Питер — #6897 ⚖1.00 ♺0</pre></dd><dt><a name="jabber-play"></a><span class="term"><span class="command"><strong>play</strong></span> [<span class="optional">--time=время</span>] <em class="replaceable"><code>метки</code></em></span></dt><dd><p>Включает <a class="link" href="custom-playlist.html" title="Ручное программирование">виртуальный плейлист</a> из указанных меток на указанное
    время (60 минут по умолчанию).</p><div class="example"><a name="jabber-play-example"></a><p class="title"><b>Пример B.2. Создание плейлиста на ходу</b></p><div class="example-contents"><pre class="programlisting">&gt; play @lounge @+instrumental @-ambient
OK.</pre><p>При этом в чат отправляется такое сообщение:</p><pre class="programlisting">Playlist for next 60 minutes: @lounge.</pre><p>Отмена созданного плейлиста:</p><pre class="programlisting">&gt; play all
OK.</pre></div></div><br class="example-break"></dd><dt><a name="jabber-queue"></a><span class="term"><span class="command"><strong>queue</strong></span> [<span class="optional">флаги</span>] <em class="replaceable"><code>поисковый_запрос</code></em></span></dt><dd><p>Добавляет в <a class="link" href="queue.html" title="Управление очередью (заказы)">очередь</a> композиции, удовлетворяющие запросу.</p></dd><dt><a name="jabber-restart"></a><span class="term"><span class="command"><strong>restart</strong></span></span></dt><dd><p>Перезапускает робота.  Обычно эта команда используется после внесения изменений в конфигурационный файл.  Если
    доступа к роботу нет, в системе Debian/Ubuntu это можно сделать командой:</p><pre class="programlisting">sudo restart ardj-jabber</pre></dd><dt><a name="jabber-rocks"></a><span class="term"><span class="command"><strong>rocks</strong></span> [<span class="optional"><em class="replaceable"><code>track_id</code></em></span>]</span></dt><dd><p>Добавляет голос в пользу указанной (или текущей) композиции, увеличивая её <a class="link" href="ratings.html" title="Рейтинг композиций">рейтинг</a>.</p></dd><dt><a name="jabber-speak"></a><span class="term"><span class="command"><strong>speak</strong></span> <em class="replaceable"><code>текст</code></em></span></dt><dd><p>Преобразует текст в голос и заряжает в <a class="link" href="queue.html" title="Управление очередью (заказы)">очередь проигрывания</a>.  Работает
          только если <a class="link" href="festival.html" title="Настройка синтезатора речи">настроен синтезатор речи</a>.</p></dd><dt><a name="jabber-sucks"></a><span class="term"><span class="command"><strong>sucks</strong></span> [<span class="optional"><em class="replaceable"><code>track_id</code></em></span>]</span></dt><dd><p>Добавляет голос против указанной (или текущей) композиции, уменьшая её <a class="link" href="ratings.html" title="Рейтинг композиций">рейтинг</a>.</p></dd><dt><a name="jabber-tags"></a><span class="term"><span class="command"><strong>tags</strong></span> <em class="replaceable"><code>-old +new</code></em> [<span class="optional">for <em class="replaceable"><code>track_id</code></em></span>]</span></dt><dd><p>Изменяет метки композиции.  Метки используются для привязки композиций к <a class="link" href="programming.html#playlists" title="Плейлисты">плейлистам</a>.  Изменения вступают в силу незамедлительно.</p><div class="example"><a name="jabber-tags-example"></a><p class="title"><b>Пример B.3. Изменение меток композиции</b></p><div class="example-contents"><pre class="programlisting">&gt; find @tagme
Found 63 tracks, showing 10:  
«Neon» by Denergized — #4935 ⚖1.20 ♺4 @tagme
&gt; tags -tagme industrial vocals for 4935
New labels: industrial, vocals.
</pre></div></div><br class="example-break"></dd></dl></div></div><div class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="command-line.html">Пред.</a> </td><td width="20%" align="center"> </td><td width="40%" align="right"> </td></tr><tr><td width="40%" align="left" valign="top">Приложение A. Описание параметров командной строки </td><td width="20%" align="center"><a accesskey="h" href="index.html">Начало</a></td><td width="40%" align="right" valign="top"> </td></tr></table></div></body></html>
